id: net.stabyourself.nottetris2
runtime: org.freedesktop.Platform
runtime-version: 1.6
sdk: org.freedesktop.Sdk
command: love 'Not Tetris 2.love'
finish-args:
  - --socket=x11
  - --share=ipc
  - --share=network
modules:
  - shared-modules/SDL/SDL-1.2.15.json
  - flatpak-modules/libdevil-1.7.8.json
  # Love 0.7.2 needs Lua 2.1.0
  - name: lua
    no-autogen: true
    sources:
      - type: archive
        url: https://www.lua.org/ftp/lua-5.1.5.tar.gz
        sha256: 2640fc56a795f29d28ef15e13c34a47e223960b0240e8cb0a82d9b0738695333
      - type: patch
        path: lua.patch
  # It needs love 0.7.2 to work
  - name: love
    sources:
      - type: archive
        url: http://bitbucket.org/rude/love/downloads/love-0.7.2-linux-src.tar.gz
        sha256: a57adcb0cbdc390a9bd8e2fe477bc175799b9ffd3486e01f859a36bf27f7f268
  - name: nottetris2
    sources:
      - type: archive
        url: http://stabyourself.net/dl.php?file=nottetris2/nottetris2-linux.zip
        sha256: e2b8737e1e761174bbb0cdea403a2b7558732b682f5a1e32ea3ee956192ea88c
